<!DOCTYPE html>
<!--
 Copyright 2010-2021 Will Scullin and contributors

 Permission to use, copy, modify, distribute, and sell this software and its
 documentation for any purpose is hereby granted without fee, provided that
 the above copyright notice appear in all copies and that both that
 copyright notice and this permission notice appear in supporting
 documentation.  No representations are made about the suitability of this
 software for any purpose.  It is provided "as is" without express or
 implied warranty.
-->
<html>
<head>

<title>Gridmaster running on the Apple ][js Emulator</title>

<meta name="viewport" content="width=640, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Apple ][js">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta charset="utf-8" />
<meta name="description" content="Gridmaster is an AppleSoft BASIC program written by Bruce Rosenblum in 1981 to design 16x16 font bitmaps for use with Sinotype III, one of the first Chinese typesetting systems made for personal computers. The code is run here on Apple ][js, an Apple][ emulator written by Will Scullin and other contributors using JavaScript and HTML5." />
<meta name="keywords" content="chinese,typesetting,font,bitmap,apple2,apple,javascript,emulator,html5" />

<link rel="apple-touch-icon" href="img/webapp-iphone.png" />
<link rel="apple-touch-icon" size="72x72" href="img/webapp-ipad.png" />
<link rel="shortcut icon" href="img/logoicon.png" />
<link rel="stylesheet" type="text/css" href="css/apple2.css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.2/css/all.css" />

<!-- Disk Index -->
<script type="text/javascript" src="json/disks/index.js"></script>

</head>
<body>
  <div id="emulator"
    <div class="apple2"
      ondragover="Apple2.handleDragOver(0, event)"
      ondrop="Apple2.handleDrop(0, event)"
      ondragend="Apple2.handleDragEnd(0, event)">
      <div class="outer">
        <div id="header">
          <div>
            <a href="https://github.com/whscullin/apple2js#readme" target="_blank">
              <img src="img/badge.png" id="badge" />
            </a>
          </div>
          <div>
            <a href="https://github.com/broadwell/gridmaster/" target="_blank">
              <img src="img/gridmaster_logo.png" id="gridmaster" />
            </a>
          </div>
        </div>
        <div id="display">
          <div class="overscan">
            <canvas id="screen" width="592" height="416" tabindex="-1"></canvas>
          </div>
        </div>
        <div class="inset">
          <div class="disk"
              ondragover="Apple2.handleDragOver(1, event)"
              ondrop="Apple2.handleDrop(1, event)"
              ondragend="Apple2.handleDragEnd(1, event)">
            <div class="disk-light" id="disk1"></div>
            <button title="Load Disk" aria-label="Load Disk"
                    onclick="Apple2.openLoad(1, event);">
              <i class="fas fa-folder-open"></i>
            </button>
            <button title="Save Disk" aria-label="Save Disk"
                    onclick="Apple2.openSave(1, event);">
              <i class="fas fa-save"></i>
            </button>
            <div id="disk-label1" class="disk-label">Disk 1</div>
          </div>
          <div class="disk"
              ondragover="Apple2.handleDragOver(2, event)"
              ondrop="Apple2.handleDrop(2, event)"
              ondragend="Apple2.handleDragEnd(2, event)">
            <div class="disk-light" id="disk2"></div>
            <button title="Load Disk" aria-label="Load Disk"
                    onclick="Apple2.openLoad(2, event);">
              <i class="fas fa-folder-open"></i>
            </button>
            <button title="Save Disk" aria-label="Save Disk"
                    onclick="Apple2.openSave(2, event);">
              <i class="fas fa-save"></i>
            </button>
            <div id="disk-label2" class="disk-label">Disk 2</div>
          </div>
          <button onclick="document.querySelector('#explanation').scrollIntoView()" title="About Gridmaster and Sinotype" aria-label="About Gridmaster and Sinotype">
            <i class="fas fa-info"></i>
          </button>
          <button onclick="Apple2.openOptions()" title="Options (F4)" aria-label="Options (F4)">
            <i class="fas fa-cog"></i>
          </button>
          <!-- <button id="toggle-sound" onclick="Apple2.toggleSound()" title="Toggle Sound">
            <i class="fas fa-volume-off"></i>
          </button> -->
        </div>
        <!-- <div class="inset">
          <div id="khz" onclick="Apple2.toggleShowFPS()">0 kHz</div>
          <button id="pause-run" onclick="Apple2.pauseRun()" title="Pause/Run">
            <i class="fas fa-pause"></i>
          </button>
          <button id="toggle-printer" onclick="Apple2.openPrinterModal()" title="Toggle Printer">
            <i class="fas fa-print"></i>
          </button>
          <div class="spacer"></div>
        </div> -->
        <div class="inset">
          <div style="margin: 0 10px">
            <div id="keyboard"></div>
          </div>
        </div>
      </div>

      <div class="modal" id="loading-modal" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
          <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Loading" >
            <header class="modal__header">
              <div class="modal__title" id="loading-modal-title">
                Loading...
              </div>
            </header>
            <main class="modal__content" id="loading-modal-content">
              <div class="meter">
                <div class="progress"></div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
  <div id="explanation">
    <div><h2>Quick-Start Guide</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>What is Sinotype?</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <div class="img-row">
        <figure class="thumbnail-figure" onclick="Apple2.openImage('sinotype_screen.jpeg')">
          <img src="images/thumbs/sinotype_screen.jpeg" alt="A photograph of a computer monitor showing the Sinotype III program displaying Chinese bitmap characters.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>The Sinotype III program</figcaption>
        </figure>
      </div>
    </div>
    <div><h2>Join the "Character of the Week" Club</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>What is STC, OSCO and Caldwell Code?</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>Who Programmed Sinotype III and Gridmaster?</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <div class="img-row">
        <figure class="thumbnail-figure" onclick="Apple2.openImage('gridmaster_p1.jpeg')">
          <img src="images/thumbs/gridmaster_p1.jpeg" alt="A photograph of the first page of a printout of the original Gridmaster source code.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>Gridmaster - p.1</figcaption>
        </figure>
        <figure class="thumbnail-figure" onclick="Apple2.openImage('gridmaster_p2.jpeg')">
          <img src="images/thumbs/gridmaster_p2.jpeg" alt="A photograph of the second page of a printout of the original Gridmaster source code.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>Gridmaster - p.2</figcaption>
        </figure>
        <figure class="thumbnail-figure" onclick="Apple2.openImage('gridmaster_p3.jpeg')">
          <img src="images/thumbs/gridmaster_p3.jpeg" alt="A photograph of the third page of a printout of the original Gridmaster source code.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>Gridmaster - p.3</figcaption>
        </figure>
        <figure class="thumbnail-figure" onclick="Apple2.openImage('gridmaster_p4.jpeg')">
          <img src="images/thumbs/gridmaster_p4.jpeg" alt="A photograph of the fourth page of a printout of the original Gridmaster source code.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>Gridmaster - p.4</figcaption>
        </figure>
      </div>
      <p>A verbatim transcription of the BASIC code for the Gridmaster program from the 1981 printout (<a href="https://github.com/broadwell/gridmaster/blob/original/gridmaster.bas" target="_blank">available on Github</a>) did not run successfuly on the Apple][js emulator using the DOS 3.3 operating system and the AppleSoft BASIC interpreter. This may be attributable to subtle differences between the original and emulated computing environments. Only a few modifications were necessary to achieve baseline functionality in the emulated version, although the code remains prone to memory overruns (a condition that may have affected the original, considering that its creator <a href="https://www.technologyreview.com/2021/05/31/1025599/history-first-chinese-digital-computer-fonts/" target="_blank">described the software</a> as "clunky to use, at best" [FORMAL CITATIONS NEEDED?]). To view the differences between the verbatim transcription and the version that runs in the emulator, see <a href="https://github.com/broadwell/gridmaster/commit/e0728ed83738d90b81d13c5614468ab4e6349799" target="_blank">this code comparison</a>.</p>
    </div>
    <div><h2>Early Digital Fonts in Chinese</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <div class="img-row">
        <figure class="thumbnail-figure" onclick="Apple2.openImage('font_mockup.jpeg')">
          <img src="images/thumbs/font_mockup.jpeg" alt="An early mock-up of a Chinese bitmap font made by the Graphic Arts Research Foundation (GARF).
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>An early font mockup</figcaption>
        </figure>
        <figure class="thumbnail-figure" onclick="Apple2.openImage('SinotypeFontBook_excerpt_p1.jpeg')">
          <img src="images/thumbs/SinotypeFontBook_excerpt_p1.jpeg" alt="Page 121 of the Sinotype font book, showing drafts of six characters marked by hand on 16x16 grids, with identifying codes written next to them.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS"/>
          <figcaption>Font Book - p.1</figcaption>
        </figure>
        <figure>
          <a href="images/SinotypeFontBook_excerpt.pdf" alt="A 7-page excerpt from the Sinotype font book, downloadable as a PDF.
          LOUIS ROSENBLUM COLLECTION, STANFORD UNIVERSITY LIBRARY SPECIAL COLLECTIONS" target="_blank">
            <img src="images/thumbs/SinotypeFontBook_excerpt_p1.jpeg" alt="A preview of the first page of a 7-page excerpt from the Sinotype font book."/>
          </a>
          <figcaption>Font Book excerpt (PDF)</figcaption>
        </figure>
      </div>
    </div>
    <div><h2>Primary Sources and Further Reading</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>The Crisis of Born-Digital Non-Western Collections</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>Sinotype Project Team</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    </div>
    <div><h2>Links</h2>
      <ul>
        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</li>
        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</li>
        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</li>
      </ul>
    </div>
  </div>

  <div class="modal" id="options-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Options">
        <header class="modal__header">
          <span class="modal__title" id="options-modal-title">
            Options
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="options-modal-content">
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="save-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Save Disk">
        <header class="modal__header">
          <span class="modal__title" id="save-modal-title">
            Save Disk
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="save-modal-content">
          <form action="#" onsubmit="return false;">
            <h3>Save to Browser</h3>
            Save Name: <input type="text" name="name" id="save_name" />
            <button class="modal__btn" onclick="Apple2.doSave()" aria-label="Save disk locally">Save</button>
          </form>
          <hr />
          <div>
            <h3>Download to Local Disk</h3>
          </div>
        </main>
        <footer class="modal__footer">
          <a id="local_save_link" class="button">Download</a>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="manage-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Load Disk">
        <header class="modal__header">
          <span class="modal__title" id="manage-modal-title">
            Manage Local Saves
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="manage-modal-content">
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">OK</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="http-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Load Disk">
        <header class="modal__header">
          <span class="modal__title" id="http-modal-title">
            Load URL
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="http-modal-content">
          <form action="#">
            <input type="text" id="http_url" />
          </form>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Load this URL">OK</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="load-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Load Disk">
        <header class="modal__header">
          <span class="modal__title" id="load-modal-title">
            Load Disk
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="load-modal-content">
          <table>
            <tr>
              <td>
                <select id="category_select" multiple="multiple"
                        onchange="Apple2.selectCategory(event)" >
                </select>
              </td>
              <td>
                <select id="disk_select" multiple="multiple"
                        onchange="Apple2.selectDisk(event)"
                        ondblclick="Apple2.clickDisk(event)">
                </select>
              </td>
            </tr>
          </table>
          <form action="#">
            <input type="file" id="local_file" />
            <div id="local_file_address_input" style="display: none">
              $
              <input id="local_file_address" />
            </div>
          </form>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Cancel</button>
          <button class="modal__btn" onclick="Apple2.doLoad(event)" aria-label="Open the selected disk">Open</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="printer-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Printer">
        <header class="modal__header">
          <span class="modal__title" id="printer-modal-title">
            Printer
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="printer-modal-content">
          <div class="paper" tabindex="-1"></div>
        </main>
        <footer class="modal__footer">
          <a id="raw_printer_output" class="button">Download Raw Output</a>
          <button class="modal__btn" onclick="Apple2.clearPrinterPaper()" aria-label="Clear the paper">Clear</button>
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="alert-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="Alert">
        <header class="modal__header">
          <span class="modal__title" id="alert-modal-title">
            Alert
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <main class="modal__content" id="alert-modal-content">
          <div class="message">
          </div>
        </main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <div class="modal" id="image-modal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
      <div class="modal__container" role="document" aria-modal="true" aria-labelledby="Image">
        <header class="modal__header">
          <span class="modal__title" id="image-modal-title">
          </span>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close>
          </button>
        </header>
        <figure class="modal__content" id="image-modal-content">
          <img class="modal-image-fullsize"></img>
          <figcaption class="modal-image-caption"></figcaption>
        </figure>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close aria-label="Close this image window">Close</button>
        </footer>
      </div>
    </div>
  </div>

  <svg width="0" height="0" xmlns="http://www.w3.org/2000/svg">
    <filter id="green">
      <feColorMatrix
        type="matrix"
        values="0.0 0.0 0.0 0.0 0
                0.0 1.0 0.0 0.0 0
                0.0 0.0 0.5 0.0 0
                0.0 0.0 0.0 1.0 0"
      />
      </filter>
  </svg>

  <script src="dist/main2.bundle.js"></script>
</body>
</html>
